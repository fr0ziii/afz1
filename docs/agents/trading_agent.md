# Trading Agent

## Description

The Trading Agent is designed for executing trading strategies and managing orders within the afz1 framework. It provides a foundational framework for agents that can implement various automated trading strategies, connect to cryptocurrency exchanges, place and manage orders, and handle trade execution logic. This agent is a core component for building automated trading systems and algorithmic trading strategies.

## Missions

[Description of the missions this agent is designed to accomplish. Link to mission files if applicable.]
- Currently, no specific mission files are defined for the Trading Agent. Missions would be defined based on the specific trading strategies, order types, and trading parameters it is intended to handle.

## Configuration

The Trading Agent requires a configuration dictionary with the following parameters:

-   **agent_id**: A unique identifier for the agent instance.
-   **agent_type**: Must be set to `TradingAgent`.
-   **exchange**: (Required) The name of the cryptocurrency exchange to connect to (e.g., "Binance", "Coinbase"). This parameter is essential and must be specified in the configuration.
-   **API Keys**: (Implicit) API keys and secret keys for accessing the specified exchange. These are typically loaded from environment variables or secure configuration files and are not directly part of the agent configuration dictionary but are necessary for the agent to function.
-   **Trading Strategy Configuration**: (Future) Specific configuration parameters for the trading strategy to be implemented by subclasses of the Trading Agent.

### Example Configuration

```yaml
config:
  agent_id: trading_agent_01
  agent_type: TradingAgent
  exchange: Binance # Specify the exchange to use
  # API keys would be loaded separately, e.g., from environment variables
  # Add trading strategy specific configurations in subclasses
```

## Inputs and Outputs

### Inputs

-   **Trading Signals**: Signals generated by other agents or components, indicating trading opportunities (e.g., buy/sell signals from analysis agents).
-   **Market Data**: Real-time market data from connected exchanges, necessary for making trading decisions and executing orders.
-   **Configuration Parameters**: Configuration settings defining exchange connections, trading parameters, and API keys.

### Outputs

-   **Executed Trades**: Trades executed on connected cryptocurrency exchanges based on trading strategy logic and signals.
-   **Order Management**: Management of orders, including placement, cancellation, and status updates.
-   **Performance Metrics**: Metrics tracking the performance of the trading agent, including trade history, profitability, and execution statistics.
-   **Logs**: Informational and error logs for monitoring agent activity, trade executions, and debugging.

## Workflow

1.  **Load Configuration**: The agent loads and validates trading-specific configuration parameters, ensuring that essential parameters like `exchange` are provided.
2.  **Setup Dependencies**: The agent sets up trading-specific dependencies, such as initializing exchange API clients and connecting to the specified exchange.
3.  **Receive Trading Signals**: The agent receives trading signals or instructions from other agents or components (currently placeholder logic in the base class, expected to be implemented in subclasses).
4.  **Execute Trading Strategy**: The agent executes the core trading strategy logic, making decisions on order placement and trade execution based on signals and market data (currently placeholder logic, to be implemented in subclasses).
5.  **Manage Orders**: The agent manages order placement, monitors order status, and handles order updates and cancellations as needed.
6.  **Track Performance**: The agent tracks the performance of executed trades, recording trade history and calculating relevant performance metrics.
7.  **Log Activity**: The agent logs trading activities, order executions, performance metrics, and any relevant events for monitoring and analysis.
8.  **Stop**: The agent handles graceful shutdown, canceling open orders and releasing resources when stopped.

## Example Usage

To run the Trading Agent, you would typically create a subclass of `TradingAgent` to implement a specific trading strategy and then instantiate and run the subclassed agent. The base `TradingAgent` class is abstract and requires subclassing to be functional.

```python
from src.agents.trading_agent import TradingAgent

class MyTradingAgent(TradingAgent): # Example subclass implementing specific trading logic
    def __init__(self, config):
        super().__init__(config)

    def run(self):
        super().run()
        # Implement trading strategy logic here, e.g., place_order(), cancel_order()

config = {
  "agent_id": "my_trading_agent_01",
  "agent_type": "MyTradingAgent", # Use the subclass name here
  "exchange": "Binance", # Specify the exchange
  # Add trading strategy specific configurations in subclasses
}

agent = MyTradingAgent(config) # Instantiate the subclassed agent
# agent.run() # Run method to execute trading logic (to be implemented in subclass)
```

This example shows how to create a subclass `MyTradingAgent` that extends the base `TradingAgent` to implement a custom trading strategy. The `run` method in the subclass would contain the specific trading logic, order placement, and execution steps.

## Code Location

-   `src/agents/trading_agent.py`

## Components

-   **`src/agents/base_agent.py` (BaseAgent)**: The Trading Agent inherits basic agent functionalities from the `BaseAgent`.
-   **Exchange API Clients (To be implemented in subclasses)**: Subclasses would implement or integrate with exchange-specific API clients for connecting to cryptocurrency exchanges and executing trades.
-   **Order Management Components (To be implemented in subclasses)**: Subclasses would implement components for managing orders, order states, and order execution logic.
-   **Trading Strategy Logic (To be implemented in subclasses)**: Subclasses would implement the core trading strategy logic, defining how the agent makes trading decisions and executes trades.
-   **Performance Tracking Components (Future)**: Components for tracking and reporting trading performance metrics.

## Notes and Considerations

-   **Abstract Base Class**: The `TradingAgent` is designed as an abstract base class. It needs to be subclassed to implement concrete trading strategies.
-   **Subclass Implementation**:  Significant implementation is required in subclasses to add specific trading strategies, order management logic, and exchange API integrations.
-   **Exchange API Integration**:  Implementing exchange API integration requires handling API authentication, rate limits, order types, and data streaming for the chosen cryptocurrency exchange.
-   **Security**:  Security is paramount for a Trading Agent. Implementations must ensure secure handling of API keys, private keys, and trading account credentials.
-   **Error Handling and Robustness**:  Implement robust error handling and fault tolerance to manage API errors, network issues, and unexpected market conditions during automated trading.
-   **Backtesting and Live Trading**:  Thoroughly backtest trading strategies before deploying live trading agents. Start with paper trading or test environments before risking real capital.